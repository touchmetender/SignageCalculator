<!DOCTYPE html>
<html>
<head>
  <div style="background:#eee;padding:10px;display:flex;justify-content:space-between">
  <div>
    <a href="index.html">Material Database</a> |
    <a href="calculation.html">Calculation</a> |
    <a href="quotation.html">Quotation (Coming Soon)</a>
  </div>
  <div>
    Logged in as: <span id="user-email"></span>
    <button onclick="logout()">Logout</button>
  </div>
</div>

<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
<script src="firebase.js"></script>
<script>
  const auth = firebase.auth();
  auth.onAuthStateChanged(user => {
    if (user) {
      document.getElementById("user-email").textContent = user.email;
    } else {
      window.location.href = 'login.html';
    }
  });
  function logout() {
    auth.signOut().then(() => {
      window.location.href = 'login.html';
    });
  }
</script>

  <title>Signage Calculator - Calculation</title>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
  <script src="firebase-config.js"></script>
  <style>
    body { font-family: Arial; margin: 20px; }
    #logout { float: right; margin-top: -30px; }
  </style>
</head>
<body>
  <h2>Calculation Page <a href="index.html">Back to Materials</a></h2>
  <div id="user-info"></div>
  <button id="logout">Logout</button>

  <p>Calculation logic will go here soon...</p>

<script>
firebase.auth().onAuthStateChanged(user => {
  if (!user) location.href = "login.html";
  else {
    document.getElementById("user-info").innerText = "Logged in as: " + user.email;
  }
});

document.getElementById("logout").onclick = () => firebase.auth().signOut();
</script>
</body>
</html>
